<span style="color: #E5E4E4; font-family: Helvetica;">

### [Алгоритмы](README.md) / Алгоритмы сортировки: Сортировка вставками

# **Сортировка вставками**

Сортировка вставками, в отличие от сортировки пузырьком, не меняет соседние элементы местами при сравнении. Алгоритм идет по массиву и сортирует по ходу. Каждый следующий элемент он ставит в нужное место в отсортированной части массива.

<img src="insertion.png" alt="Insertion sort" width="500"/>

Рассмотрим код:

    def insertion_sort(mas):
        for i in range(1, len(mas)):
            key = mas[i]
            j = i - 1
            while j >= 0 and key < mas[j] :
                    mas[j + 1] = mas[j]
                    j -= 1
            mas[j + 1] = key
        return mas

Внешний цикл двигается по массиву, а внутренний переставляет элемент в уже отсортированную часть списка.

Каждую итерацию в переменную `key` запоминается сам элемент, который мы будем двигать на нужное место. Затем запускается цикл `while`, который будет повторяться до тех пор, пока `key` < mas[ *j* ], т. е. элемента, стоящего перед `key`, и пока индекс *j* неотрицательный. Если вдруг окажется, что элемент `key` < *j*-того элемента (перед ним стоящего), то цикл прервется и `key` вставится на нужное место. Если же такого элемента не найдется, то значит `key` – минимальный элемент из найденных и ставится в начало.

В наихудшем случае (когда массив отсортирован от большего к меньшему, т. е. в обратном порядке) внутренний и внешний цикл повторятся по `len(mas)` раз и сложность работы алгоритма – *O(n^2)*. В следующем примере мы рассмотрим быструю сортировку – один из самых эффективных алгоритмов сортировки.
